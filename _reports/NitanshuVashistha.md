---
categories:
  - GSoC
  - 2018
  - StatusReport
date: 2018-08-12
student: Nitanshu Vashistha
organisation: coala
organisation_link: https://coala.io
report_year: 2018
project: Corobo Enhancement - Security, Testing And Configurability
project_link: https://summerofcode.withgoogle.com/projects/#6603667076022272
tarball: https://rawgit.com/nvzard/GSoC-Report/master/project.tar.gz
sha256sum: dc41eb4ec8294e6033209162eba25b55710894174e3f00a6b2f407a60c607b49
mentors: >
  [Meet Mangukiya](https://github.com/meetmangukiya) &
  [Guillaume Binet](https://github.com/gbin)
phase:
  - Bonding: https://gitlab.com/coala/GSoC/GSoC-2018/milestones/21
  - Phase 1: https://gitlab.com/coala/GSoC/GSoC-2018/milestones/22
  - Phase 2: https://gitlab.com/coala/GSoC/GSoC-2018/milestones/23
  - Phase 3: https://gitlab.com/coala/GSoC/GSoC-2018/milestones/24
bio: >
  I am a sophomore year student studying Information Technology at Manipal
  University, Jaipur. I participated in GSoC and worked with [coala](http://coala.io)
  to make enhancements in [corobo](https://github.com/coala/corobo) which is a
  bot used by the coala community to onboard newcomers and automate development
  tasks.
  My project was dedicated to make corobo secure by reducing its surface
  vulnerability. I also implemented a better testing infrastructure to test the
  plugins, as well as to make the existing plugins configurable so that they
  can also be adapted by other communities to cater their needs.
social:
  - GitHub:
      - username: nvzard
      - link: https://github.com/nvzard
  - GitLab:
      - username: nvzard
      - link: https://gitlab.com/nvzard
  - Gitter:
      - username: nvzard
      - link: https://gitter.im/nvzard
  - OpenHub:
      - username: nvzard
      - link: https://www.openhub.net/accounts/nvzard
email: nitanshu.vzard@gmail.com
blog: https://medium.com/gsoc-18-with-coala
activity:

  - 1:
      - repo: cEPs
      - link: https://github.com/coala/cEPs/commit/d20be0e33dfb9f026af3bc3b30b11f2b2609e99e
      - details: >
         cEP-0015.md: corobo enhancement

  - 2:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/13d61619d93ca233e5114c869c79bcc97a32efbc
      - details: >
         labhub_test: Ignore test temporarily

  - 3:
      - repo: err-backend-gitter
      - link: https://github.com/errbotio/err-backend-gitter/commit/1edb492353dba57d1308c73cdc1f001a1a9f7a03
      - details: >
         gitter: Fix Room.occupants API request

  - 4:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/1acd4eb14da17d93731f255f8c6e5199691def73
      - details: >
         err-backend-gitter: Bump up to latest commit

  - 5:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/4bb5d559aec3300ac345c00322170f644c7ac5ca
      - details: >
         requirements.txt: Bump IGitt version

  - 6:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/ef885b0f4b4904ef46036fe570823936440725b6
      - details: >
         labhub: Modify invite permissions

  - 7:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/6c192f455fcd3e859d776dbef089219f7a5bd3a2
      - details: >
         labhub: Update newcomer issue assignment rule

  - 8:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/e657707f58472989bb827cb8ce944b3a2f298a35
      - details: >
         labhub: `Hello World` msg and invite modification

  - 9:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/330faad06a8c5295c107ac46b26f1e10cef7402a
      - details: >
         tests: Remove unnecessary self handling of TestBot

  - 10:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/e24d461af968ef2bce95130c3bab12364dd962e1
      - details: >
         Ban: Add plugin to ban/unban users

  - 11:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/2feedd67eac2af77c47ff44f1c6ff7a3c651615c
      - details: >
         labhub_test: Increase timeout limit

  - 12:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/de4fbaff1bd227d078f15e8221ea4941fdcf4450
      - details: >
         LabHub: Remove redundant teams list

  - 13:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/861f7f816625554b3de54713d7a56bdc8844aca9
      - details: >
         .coafile: Include tests

  - 14:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/d697e18d436a33dca07f29e6d26544d3234750f3
      - details: >
         labhub: Make labhub private to org members

  - 15:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/738ad0a22d5792a73e3c9e29b5de60b2932f12e8
      - details: >
         moban: Moban Sync

  - 16:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/789ba805354e8ee9e04f0baf7c47c13b31d696cc
      - details: >
         requirements.txt: Unpin pyopenssl

  - 17:
      - repo: errbot
      - link: https://github.com/errbotio/errbot/commit/a0f35732484c8c0692e123c48653517cffa21a42
      - details: >
         TestBot: Implement inject_mocks method

  - 18:
      - repo: errbot
      - link: https://github.com/errbotio/errbot/commit/e0f93c7eef41fadbf3c6cc3793df55987c33bd79
      - details: >
         TestBot: Add multi-line command test support

  - 19:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/b0c095c3add293820f1aee35a64a609d30909e04
      - details: >
         requirements.txt: Update Errbot

  - 20:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/a9d99def19266d2982661e2fbafa2dee3bcc9152
      - details: >
         tests: Implement CoroboTestCase

  - 21:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/0b8c98c0569dae8600c7184182e833a99ad9fa17
      - details: >
         config.py: Create empty data sub-directory

  - 22:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/e2c46d78cc4efe2d8778b0580b37ac95299c4ee1
      - details: >
         configuration: Implement DefaultConfigMixin

  - 23:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/7179622e1e1b572d5a7f080b99d14cd39a923797
      - details: >
         SpammingAlert: Adapt to DefaultConfigMixin

  - 24:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/0caa68b95b0f76e1a6755404a764cec0eca9d29c
      - details: >
         GitStats: Remove LabHub inheritance

  - 25:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/1eb78d17ef7a08809efffb3b6488061415fa2679
      - details: >
         LabHubTestCase: LabHub testing setup

  - 26:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/826ffaa19ce833ee32feb0973430e2eb88b4b0c8
      - details: >
         LabHub: Use activate and configuration templates

  - 27:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/e302640dd83cd75b5160a340eed41eb98766cec9
      - details: >
         tests: Isolate tests from loading labhub

  - 28:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/8e4d63e97d88f584f973ae7b3ce4d97473377287
      - details: >
         DefaultConfigMixin: Modify implementation

  - 29:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/4f2b470c51abc0a0f09191917516f3ff2de2ba74
      - details: >
         WolframAlpha: Adapt to use CONFIG_TEMPLATE

  - 30:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/faafb2553fec06678cd6dc6d2ef5a716ab1f44d1
      - details: >
         Answer: Adapt to use CONFIG_TEMPLATE

  - 31:
      - repo: corobo
      - link: https://github.com/coala/corobo/commit/ce9cf184e3faebb4962f0a2c07d54e0d239b8036
      - details: >
         LabHub: Make noisy commands private to org members

---

### Corobo Enhancement - Security, Testing and Configurability


#### Work Done

1. Security Enhancements:
   1. Gave developers the right to invite newcomers.
   2. Removed automatic invite through 'Hello World' and 'invite me'
   3. Newcomers won't get assigned to more than one newcomer issue.
   4. Added a bot command to ban and unban a user from all the rooms at once.
   5. Made important plugins private to members of the organization.

2. Testing Enhancements:
   1. Implemented functionality in Errbot to inject mock objects
      in a plugin while testing.
   2. Implemented functionality in Errbot to test multi-line commands.
   3. Implemented a custom CoroboTestCase to ease testing of plugins.
   4. Implemented a custom LabHubTestCase to test labhub dependent plugins.
   5. All the tests now use TestCases rather then handling the bot themselves.

3. Configurability:
   1. Implemented a DefaultConfigMixin to configure the plugins at the time
      of deployment.
   2. LabHub now uses activation method instead of __init__.
   3. Answer, LabHub, SpammingAlert and WolframAlpha can now be configured
      through chat and can be adapted by other organizations.

#### Challenges

Most things went smoothly. The biggest challenge for me was to design the
testing infrastructure to make testing of plugins easier but I am grateful
to my helful mentors for supporting and making the task easier.

#### Work to be done

Teams in LabHub plugins are still coala specific and need to be made
configurable. Community stats should be moved out of LabHub and to
be made configurable along with explain plugin.
