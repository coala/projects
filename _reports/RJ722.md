---
categories:
  - GSoC
  - 2018
  - StatusReport
date: 2018-08-12
report_year: 2018
title: Rahul Jha
student: Rahul Jha
organisation: coala
organisation_link: https://coala.io
project: Improve Whitelisting Infrastructure for Vulture
project_link: https://summerofcode.withgoogle.com/projects/#5620743946108928
tarball: https://drive.google.com/file/d/12HgBb2Wdjl6Zzm7mDqCt13ke8VHj7_Bb/view
sha256sum: 1568db1e08dc614dcd8409af5f4890f0ff83d497a55c951546fa9bf634773f9f
mentors: >
  [Jendrik Seipp](https://github.com/jendrikseipp), [Abdeali Kothari](https://github.com/AbdealiJK), [Florian Bruhin](https://github.com/The-Compiler)
phase:
  - Bonding : https://gitlab.com/coala/GSoC/GSoC-2018/milestones/28
  - Phase 1 : https://gitlab.com/coala/GSoC/GSoC-2018/milestones/29
  - Phase 2 : https://gitlab.com/coala/GSoC/GSoC-2018/milestones/30
  - Phase 3 : https://gitlab.com/coala/GSoC/GSoC-2018/milestones/31
bio: >
  Rahul is currently a junior, studying Electronics Engineering at Zakir Hussain
  College of Engineering and Technology, Aligarh Muslim University. He loves the
  ideology behind Free and Open Source Software and reads about the history of
  this revolutionary movement in his leisure time.
social:
  - GitHub:
      - username: RJ722
      - link: https://github.com/RJ722
  - GitLab:
      - username: RJ722
      - link: https://gitlab.com/RJ722
  - Gitter:
      - username: RJ722
      - link: https://gitter.im/RJ722
  - Openhub:
      - username: RJ722
      - link: https://openhub.net/accounts/RJ722
email: rj722@protonmail.com
blog: https://rj722.github.io/blog
activity:
  - 1:
      - repo: projects
      - link: https://github.com/coala/projects/commit/f551a2e
      - details: Add automatic whitelist generator for Vulture
  - 2:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/7fc63f7097ba83093740b4b3c1eea788fd485dd1
      - details: Package code in modules and improve documentation

  - 3:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/680cc58051d3640b73f9ae1ce936193843b9b604
      - details: "Ignore dist/; minor improvements to docs"

  - 4:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/111bc5d5cab4c516a7eecb75dd637722f1b1aa37
      - details: Remove nargs=1

  - 5:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/cbdbd4e391925b69c93d64c794d925422b9a10e6
      - details: Minor Cosmetics

  - 6:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/c6c25145b9bdd8372b4f4388eddbbbeeab13ff7b
      - details: Rename genereators/qt_utils.py to generators/qt.py

  - 7:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/1fccd02ac6fdd893801df0dc498b96b22ef976af
      - details: Rename generators to vulture_whitelist

  - 8:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/67c3f185452bfb222ff0e78ae6ddb3b15a04782b
      - details: Use QtWhitelistCreator as a Creator object

  - 9:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/473df29f75460120bbcd97dbb328ac5277032a71
      - details: Add tests and configure test suite

  - 10:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/fbb42e54b52d88fff95a86eb8cf35da4167a4ad8
      - details: Add travis and coveralls

  - 11:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/f5c6dfea2ab0b8014413745690dbd299aaa29770
      - details: Add sip as a dependency

  - 12:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/870b9591fbf84116b9e36a00f377676cead01121
      - details: Install sip in travis

  - 13:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/4170429aa6372e80a7f5698d7908b29f9aaec920
      - details: Sort before writing xml

  - 14:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/9c0307a379b7c83ca885e6e79ea4d1620fe8765d
      - details: "Install lxml when using local repository."

  - 15:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/8b6cbd5b5cb03302c90c818848e6992fcf45b74a
      - details: "setup.py: test requires vulture, not sip"

  - 16:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/34bbf0b780b6ae2b04dad3be5cecbe4100daedbc
      - details: "README.rst: Minor nitpicks and cosmetics"

  - 17:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/234cb936a6f3fa59ca03a810212fbe1bb9e5441c
      - details: "setup.py: mention lxml only in install_requires"

  - 18:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/2e40a6a3c45be434214e4b328fbbd489792ab5f0
      - details: "setup.py: Remove pytest runner and import version correctly"

  - 19:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/e58e15ae7f22c466dd0488cee8d1e9e4a2250d7f
      - details: "tests/__init__.py: TESTS and DIR are same"

  - 20:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/77c172ad74f53cdad29b75db234f1a145faa389d
      - details: Use Creator object to register new creators

  - 21:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/4ef597c5394df9d6cce86b50f9aff1aa33bb10da
      - details: "tests/test_with_vulture.py: Use pytest.fixture"

  - 22:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/5dfd9655e34b73fc759037cb10e0250d4efb8900
      - details: "tests/test_with_vulture.py: Use textwrap.dedent"

  - 23:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/c68aa692d8d4b9fb8b15de72d5e9867c48c6023b
      - details: Use absolute imports everywhere

  - 24:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/ff49ab876363a173d7228a84037332009c1b1c1f
      - details: "Use python's logging module."

  - 25:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/bc3af5a9fe6af88433278b35db5026437a6da861
      - details: "Define __version__ in vulture_whitelist/__main__.py"

  - 26:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/d203f12a6f276ac60dab196f1fb2e3b24d1bb8ae
      - details: Bump up PyQt versions, update features

  - 27:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/b3dc28a1502920fd2d824b7b7c3e064bfcb5ed79
      - details: Use pytest's tmpdir fixture

  - 28:
      - repo: vulture-whitelist-generators
      - link: https://github.com/RJ722/vulture-whitelist-generators/commit/aad70ab17bfec8e389292b3c645d0d4b6d931c3a
      - details: Single source package version

  - 29:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/8efe8af
      - details: "README.rst: Add examples to setup (#114)"

  - 30:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/f216902
      - details: "Update tests to only pass supported arguments to literal_eval (#118)"

  - 31:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/1c22682
      - details: "Fix PEP8 issues (#120)"

  - 32:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/ade4e44
      - details: "Update TODO file (#122)"

  - 33:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/4cb052a
      - details: "Add coveralls support to track code coverage (#124)"

  - 34:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/e0e384e
      - details: "Document exit codes (#123)"

  - 35:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/01a5031
      - details: "Increase test coverage (#126)"

  - 36:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/5f77d81
      - details: "Add coveralls badge to README (#127)"

  - 37:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/e3ea074
      - details: "Use argparse instead of optparse (#119)"

  - 38:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/e425c9a
      - details: "Test file with non utf-8 encoding (#121)"

  - 39:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/7ff8d68
      - details: "Skip async tests correctly (#128)"

  - 40:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/d135592
      - details: "tests/test_errors.py: Use pytest's tmpdir fixture (#131)"

  - 41:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/544f960
      - details: "Use absolute imports (#132)"

  - 42:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/fcd9df8
      - details: "Single-source package version string (#134)"

  - 43:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/3899b22
      - details: "Whitelists: use non-dynamic objects directly instead of mocking them. (#137)"

  - 44:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/527b93c
      - details: "Add --make-whitelist flag (#135). "

  - 45:
      - repo: vulture
      - link: https://github.com/jendrikseipp/vulture/commit/47116ab
      - details: "Add --ignore-names flag (#139)."

  - 46:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/932e52a28a65286e886d98a4691f9008a5f5e892
      - details: Add analysis report for localstack

  - 47:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/36f88da77dde12334e97c31d5f5a752e79a3a12c
      - details: Pre-format logs

  - 48:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/e50a54e82f7d63ec2892d5fa28f49ab09d277708
      - details: Update localstack_analysis.md

  - 49:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/b47fc3691055d618576f9142d36832cd1f94fd8c
      - details: Make report conform to the given template

  - 50:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/513e41cc4904760196e591602e3356bd1a504a5c
      - details: Update localstack_analysis.md

  - 51:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/3ab0a800db0c2200f0c666d4e198c8558c5fc325
      - details: create analysis report for system design primer

  - 52:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/e40be61b4e6e9cf97d689a328e8aa27c2637a85c
      - details: Organise reports into folders.

  - 53:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/85de1d41b14544e634a65fe5cb215dfee31eb2cf
      - details: add header for localstack

  - 54:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/89bfb08fc7fdcada02389bd4251632140a7da86c
      - details: Add report for relational-networks

  - 55:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/00a0492071c449ee34e36fec7a59254133be2f1b
      - details: Add footer

  - 56:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/43253a9384cc655c9e854766714cc3f5240e55bb
      - details: "Add report for qutebrowser (#4)"

  - 57:
      - repo: vulture-analysis
      - link: https://github.com/jendrikseipp/vulture-analysis/commit/5bfabaca9902017815cc01d3b38e92a21107d86d
      - details: "Add report for Sharppy (#5)"
---

### Improving whitelisting infrastructure for Vulture

#### Work Done

1. Created a command line tool which takes in sip files as input and spits a
   whitelist with all the virtual functions defined in the [sip][sip] files.
   This tool was further used to create a whitelist for PyQt which can hereby
   be used with any project using PyQt. The tool is now completely tested and
   documented.

2. Created `--make-whitelist` flag to enable reporting of the results in a
   format which can be directly used as a whitelist. This significantly eased
   the process of creating and maintaing a whitelist for a project.

3. Implemented an ignoring mechanism for Vulture (`--ignore-names` and
   `--ignore-decorators`) - thereby enabling users to omit the result(s) which
   match with the given argument(s) (a glob pattern). This is particularly
   useful for projects using Flask where `--ignore-decorators "@app.route"` can
   be used to ignore all functions with the `@app.route` decorator (The
   functions exposed via the public API which aren't used internally).

4. Increased test coverage of Vulture from already excellent 95% to 100%. Also,
   ensured support for Python3.7 in CI and started testing Vulture with
   Python3.8-dev.

5. Switch to `argparse` instead of using `optparse` in Vulture.

6. We also did an experimental integration with `coverage` so that we could
   automatically remove the false positives. However, this scheme didn't quite
   fit the workflow involved when working with Vulture, so we dropped the idea.

7. Along with documenting the new features in Vulture, the already exisitng
   docs were also added upon. Most significantly, we tabulated the exit codes
   for Vulture and mentioned a few examples with their respective command and
   output in the project's README section.

#### Challenges

The biggest challenge for me was to ensure that the workflow involved for
using Vulture stays simple and that we don't overengineer it. Thankfully, my
mentors could foresee this and helped me throughout.

[sip]: https://www.riverbankcomputing.com/software/sip/intro
