---
categories:
  - GSoC
  - 2017
  - StatusReport
date: 2017-08-27
student: Naveen Kumar Sangi
organisation: coala
organisation_link: https://coala.io
project: Extending GitMatev2.0 to support GitLab and Bitbucket
project_link: https://summerofcode.withgoogle.com/projects/#4985377849868288
tarball: https://rawgit.com/nkprince007/GSoCReport/master/project.tar
mentors: >
 [Lasse Schuirmann](https://github.com/sils) & [Fabian Neuschmidt](https://github.com/fneu)
phase:
 - Bonding : https://gitlab.com/coala/GSoC/GSoC-2017/milestones/1
 - Phase 1 : https://gitlab.com/coala/GSoC/GSoC-2017/milestones/30
 - Phase 2 : https://gitlab.com/coala/GSoC/GSoC-2017/milestones/31
 - Phase 3 : https://gitlab.com/coala/GSoC/GSoC-2017/milestones/32
bio: >
 I'm a final year student of Computer Science & Engineering at National Institute of Technology, Durgapur, India. I participated in GSoC and worked with [coala](https://coala.io) and [GitMate](https://gitmate.io) to build the second version of GitMate to help developers speed up their review process. I also worked on improving and extending support for GitLab on IGitt, developing an algorithm to
 detect duplicate issues and implemented several plugins for GitMate.
social:
 - GitHub:
   - username: nkprince007
   - link: https://github.com/nkprince007
 - GitLab:
   - username: nkprince007
   - link: https://gitlab.com/nkprince007
 - Gitter:
   - username: nkprince007
   - link: https://gitter.im/nkprince007
email: nkprince007@gmail.com
blog: https://medium.com/my-new-roots
activity:
 - 0:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/3d2003f82cbd669b5197e9bb4431602560678b1b
   - details: >
      Add commit reacknowledge plugin for GitMate.
 - 1:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/6d7539ee3b68f601c030c545adc4c42fd055e8d8
   - details: >
      Add auto rebaser plugin for GitMate.
 - 2:
   - repo: IGitt
   - link: https://gitlab.com/gitmate/open-source/IGitt/commit/6002376f01713a9cc5e5e0a37806e0bfacc3c458
   - details: >
      Implement unified_diff property in IGitt Commit interface.
 - 3:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/cd47be118a7cb57a2a5e19e0ca252dfcfb898ec4
   - details: >
      Add stale pull request reminder plugin for GitMate.
 - 4:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/380dda2ddbe0937d703cc2e4f7bc319d7a584324
   - details: >
      Add stale issue reminder plugin for GitMate.
 - 5:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/56b19c4c3f7fae71b093674c87cf0c57fa208cb4
   - details: >
      Add pull request approver plugin for GitMate.
 - 6:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/199a62c992e62e0c1e798ccbbc72d9f2fd6bbecc
   - details: >
      Add issue-pull request sync plugin for GitMate.
 - 7:
   - repo: social-core
   - link: https://github.com/python-social-auth/social-core/commits/master?author=nkprince007
   - details: >
      Support for Bitbucket OAuth token refresh in **psa**.
 - 8:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/01d6e307e4bc51d9b68798a24a065765a6099437
   - details: >
      Add external request recorder in GitmateTestCase.
 - 9:
   - repo: issue-dupe
   - link: https://gitlab.com/gitmate/open-source/issue-dupe/commits/master
   - details: >
      Duplicate issue detection algorithms.
 - 10:
   - repo: igitt-django
   - link: https://gitlab.com/gitmate/open-source/igitt-django/commits/master
   - details: >
      Create new django app to store IGitt objects.
 - 11:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/b285a748a9c195ebd27f8d4de5cc803e17c9839e
   - details: >
      Add python social authentication with openid for GitMate.
 - 12:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/c6fb11a6c50b9d83c7426f7c8f0fe87db1727ba1
   - details: >
      Add risk checking plugin for GitMate.
 - 13:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/f261f01910d11d4f0c98f3dca4f5c1f567f78211
   - details: >
      Add issue labelling plugin for GitMate.
 - 14:
   - repo: gitmate-2-frontend
   - link: https://gitlab.com/gitmate/open-source/gitmate-2-frontend/commit/4d2206cb35d3d2b334aa282963dfc6dff9b2542c
   - details: >
      Improved preloader visualization on GitMate-2 frontend.
 - 15:
   - repo: IGitt
   - link: https://gitlab.com/gitmate/open-source/IGitt/commits/master
   - details: >
      Commits **18748ea** through **fa6f21e**: Implementing GitLab interfaces.
 - 16:
   - repo: coala-incremental-results
   - link: https://gitlab.com/gitmate/open-source/coala-incremental-results/commit/078d0112a1f918abdc6673f0c65250dfcdf9ece0
   - details: >
      Create a script to run incremental static code analysis on git repositories.
 - 17:
   - repo: gitmate-2
   - link: https://gitlab.com/gitmate/open-source/gitmate-2/commit/897d176680338786eb502be3155d4843e2401920
   - details: >
      Add startplugin subcommand for GitMate.
 - 18:
   - repo: documentation
   - link: https://gitlab.com/gitmate/documentation/commit/4c2ad75fcdebe46359a27d7700513c06bb9cc7ec
   - details: >
      Add docs on how to deploy GitMate on your own server.
 - 19:
   - repo: result-bouncer
   - link: https://gitlab.com/gitmate/open-source/result-bouncer/commit/cb745a5f87f591ade6e1e89de36e1a111c8c3a81
   - details: >
      Automate docker image build for result-bouncer.
---

## Extending GitMatev2.0 to support GitLab and Bitbucket

### About the product

**GitHub**, **GitLab** and **BitBucket** support webhooks for common events like opening/closing/commenting on Merge Requests, creating Issues, etc. These webhooks could be configured for automated response using their own API's for comments, tests/integrations, etc. **GitMate** merely acts as a tunnel for these events and responds accordingly. The interface for these API's is held by its wrapper library, IGitt.

### Aim of the project

This project is aimed at extending the support for **GitMate** to **GitLab** and **BitBucket** repositories. This adds up to unified and automated code analysis and maintenance on the big three code hosting platforms.

### Implementation

This project consists of implementing **GitLab** and **BitBucket** interfaces in **IGitt**, following the already implemented **GitHub**'s convention, while simultaneously creating webhook responders and tasks for the same on **gitmate-2**.

Extending plugins is quite easy on **gitmate-2** following `gitmate_testplugin` as an example, thanks to its plugin-based architecture.

### Difficulties

During the initial phases of GSoC, the project grew rapidly with the advent of new plugins, support for GitLab and all.
But it took a sharp turn when it became clear that Bitbucket could not be supported because of incomplete API endpoints
from their side. We took it to advantage to develop other plugins, duplicate issue detection with TF-IDF vectorization
algorithm, and igitt-django.

### Overall Experience

Considering the quality time spent on interactive plugins, developing a good backend architecture and providing a wider
support for Git based hosting platforms like GitHub and GitLab, it was all-in-all a wonderful experience with my mentors.
Both Lasse Schuirmann and Fabian Neuschmidt, were really helpul and available at all times. I'd definitely continue working
with them after the project finishes and we're looking forward to a much better GitMate with support for caching IGitt
objects out of the box.

### Work to be done

Improving the webhooks and gathering reviews and user feedback for GitMate-2. Developing a full fledged automated
storage system for IGitt objects with support for django. This way we could minimize the number of external requests.

Deploying GitMate at a larger scale and expanding the community are the primary concerns. Extending support to
Bitbucket as soon as they provide a good API system.
